<!DOCTYPE html><html><head><meta charset="utf-8"><style>@font-face {
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAYcAA0AAAAACjQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABMAAAABwAAAAca8vGTk9TLzIAAAFMAAAARAAAAFZG1VHVY21hcAAAAZAAAAA+AAABQgAP9AdjdnQgAAAB0AAAAAQAAAAEACICiGdhc3AAAAHUAAAACAAAAAj//wADZ2x5ZgAAAdwAAADRAAABEKyikaNoZWFkAAACsAAAAC0AAAA2AtXoA2hoZWEAAALgAAAAHAAAACQHngNFaG10eAAAAvwAAAAQAAAAEAwAACJsb2NhAAADDAAAAAoAAAAKALIAVG1heHAAAAMYAAAAHwAAACABEAB2bmFtZQAAAzgAAALBAAAFu3I9x/Nwb3N0AAAF/AAAAB0AAAAvaoFvbwAAAAEAAAAAzBdyYwAAAADP2IQvAAAAAM/bz7t4nGNgZGFgnMDAysDB1Ml0hoGBoR9CM75mMGLkYGBgYmBlZsAKAtJcUxgcPsR8iGF2+O/AEMPsznAYKMwIkgMA5REMOXicY2BgYGaAYBkGRgYQsAHyGMF8FgYFIM0ChED+h5j//yEk/3KoSgZGNgYYk4GRCUgwMaACRoZhDwCs7QgGAAAAIgKIAAAAAf//AAJ4nHWMMQrCQBBF/0zWrCCIKUQsTDCL2EXMohYGSSmorScInsRGL2DOYJe0Ntp7BK+gJ1BxF1stZvjz/v8DRghQzEc4kIgKwiAppcA9LtzKLSkdNhKFY3HF4lK69ExKslx7Xa+vPRVS43G98vG1DnkDMIBUgFN0MDXflU8tbaZOUkXUH0+U27RoRpOIyCKjbMCVejwypzJJG4jIwb43rfl6wbwanocrJm9XFYfskuVC5K/TPyczNU7b84CXcbxks1Un6H6tLH9vf2LRnn8Ax7A5WQAAAHicY2BkYGAA4teL1+yI57f5ysDNwgAC529f0kOmWRiYVgEpDgYmEA8AUzEKsQAAAHicY2BkYGB2+O/AEMPCAAJAkpEBFbAAADgKAe0EAAAiAAAAAAQAAAAEAAAAAAAAKgAqACoAiAAAeJxjYGRgYGBhsGFgYgABEMkFhAwM/xn0QAIAD6YBhwB4nI1Ty07cMBS9QwKlQapQW3VXySvEqDCZGbGaHULiIQ1FKgjWMxknMfLEke2A+IJu+wntrt/QbVf9gG75jK577Lg8K1qQPCfnnnt8fX1NRC/pmjrk/zprC+8D7tBy9DHgBXoWfQ44Av8t4Bj4Z8CLtBL9CniJluPXASf0Lm4CXqFX8Q84dOLnMB17N4c7tBo1AS/Qi+hTwBH4rwHHwN8DXqQ30XXAS7QaLwSc0Gn8NuAVWou/gFmnjLrEaEh9GmDdDGgL3B4JsrRPDU2hTOiMSuJUIdKQQayiAth69r6akSSFqIJuA19TrzCIaY8sIoxyrNIrL//pw7A2iMygkX5vDj+G+kuoLdX4GlGK/8Lnlz6/h9MpmoO9rafrz7ILXEHHaAx95s9lsI7AHNMBWEZHULnfAXwG9/ZqdzLI08iuwRloXE8kfhXYAvE23+23DU3t626rbs8/8adv+9DWknsHp3E17oCf+Z48rvEQNZ78paYM38qfk3v/u3l3u3GXN2Dmvmvpf1Srwk3pB/VSsp512bA/GG5i2WJ7wu430yQ5K3nFGiOqgtmSB5pJVSizwaacmUZzZhXLlZTq8qGGFY2YcSkqbth6aW1tRmlaCFs2016m5qn36SbJrqosG4uMV4aP2PHBmB3tjtmgN2izkGQyLWprekbIntJFing32a5rKWCN/SdSoga45EJykyQ7asZvHQ8PTm6cslIpwyeyjbVltNikc2HTR7YKh9LBl9DADC0U/jLcBZDKrMhUBfQBvXRzLtFtjU9eNHKin0x5InTqb8lNpfKv1s1xHzTXRqgKzek/mb7nB8RZTCDhGEX3kK/8Q75AmUM/eLkfA+0Hi908Kx4eNsMgudg5GLdRD7a84npi+YxNr5i5KIbW5izXas7cHXIMAau1OueZhfj+cOcP3P8MNIWLyYOBuxL6DRylJ4cAAAB4nGNgYoAALjDJyIAOWMCiTIxMLDmZedkABtIBygAAAA==) format('woff');
}

* {
    box-sizing: border-box;
}

body {
    width: 980px;
    margin-right: auto;
    margin-left: auto;
}

body .markdown-body {
    padding: 45px;
    border: 1px solid #ddd;
    border-radius: 3px;
    word-wrap: break-word;
}

pre {
    font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.markdown-body {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  color: #333;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background-color: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body strong {
  font-weight: bold;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body input {
  font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}

.markdown-body a {
  color: #4078c0;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before {
  display: table;
  content: "";
}

.markdown-body hr:after {
  display: table;
  clear: both;
  content: "";
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
  font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.markdown-body .select::-ms-expand {
  opacity: 0;
}

.markdown-body .octicon {
  font: normal normal normal 16px/1 octicons-anchor;
  display: inline-block;
  text-decoration: none;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.markdown-body .octicon-link:before {
  content: '\f05c';
}

.markdown-body:before {
  display: table;
  content: "";
}

.markdown-body:after {
  display: table;
  clear: both;
  content: "";
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.markdown-body .anchor {
  display: inline-block;
  padding-right: 2px;
  margin-left: -18px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  color: #000;
  vertical-align: middle;
  visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h1 .anchor {
  line-height: 1;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 .anchor {
  line-height: 1;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h3 .anchor {
  line-height: 1.2;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h4 .anchor {
  line-height: 1.2;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h5 .anchor {
  line-height: 1.1;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body h6 .anchor {
  line-height: 1.1;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  box-sizing: content-box;
  background-color: #fff;
}

.markdown-body code {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

.markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb;
}

.markdown-body .pl-c {
  color: #969896;
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
  color: #0086b3;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: #795da3;
}

.markdown-body .pl-s .pl-s1,
.markdown-body .pl-smi {
  color: #333;
}

.markdown-body .pl-ent {
  color: #63a35c;
}

.markdown-body .pl-k {
  color: #a71d5d;
}

.markdown-body .pl-pds,
.markdown-body .pl-s,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sra,
.markdown-body .pl-sr .pl-sre {
  color: #183691;
}

.markdown-body .pl-v {
  color: #ed6a43;
}

.markdown-body .pl-id {
  color: #b52a1d;
}

.markdown-body .pl-ii {
  background-color: #b52a1d;
  color: #f8f8f8;
}

.markdown-body .pl-sr .pl-cce {
  color: #63a35c;
  font-weight: bold;
}

.markdown-body .pl-ml {
  color: #693a17;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  color: #1d3e81;
  font-weight: bold;
}

.markdown-body .pl-mq {
  color: #008080;
}

.markdown-body .pl-mi {
  color: #333;
  font-style: italic;
}

.markdown-body .pl-mb {
  color: #333;
  font-weight: bold;
}

.markdown-body .pl-md {
  background-color: #ffecec;
  color: #bd2c00;
}

.markdown-body .pl-mi1 {
  background-color: #eaffea;
  color: #55a532;
}

.markdown-body .pl-mdr {
  color: #795da3;
  font-weight: bold;
}

.markdown-body .pl-mo {
  color: #1d3e81;
}

.markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb;
}

.markdown-body .plan-price-unit {
  color: #767676;
  font-weight: normal;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 0.35em 0.25em -1.6em;
  vertical-align: middle;
}

.markdown-body .plan-choice {
  padding: 15px;
  padding-left: 40px;
  display: block;
  border: 1px solid #e0e0e0;
  position: relative;
  font-weight: normal;
  background-color: #fafafa;
}

.markdown-body .plan-choice.open {
  background-color: #fff;
}

.markdown-body .plan-choice.open .plan-choice-seat-breakdown {
  display: block;
}

.markdown-body .plan-choice-free {
  border-radius: 3px 3px 0 0;
}

.markdown-body .plan-choice-paid {
  border-radius: 0 0 3px 3px;
  border-top: 0;
  margin-bottom: 20px;
}

.markdown-body .plan-choice-radio {
  position: absolute;
  left: 15px;
  top: 18px;
}

.markdown-body .plan-choice-exp {
  color: #999;
  font-size: 12px;
  margin-top: 5px;
}

.markdown-body .plan-choice-seat-breakdown {
  margin-top: 10px;
  display: none;
}

.markdown-body :checked+.radio-label {
  z-index: 1;
  position: relative;
  border-color: #4078c0;
}

pre{
    border:1px solid #edc5c4;
}

.markdown-body th {
  padding: 0;
  text-align:left;
  background-color: #f1f0f0 !important;
}

.markdown-body td {
  font-size: 14px;
}
.markdown-body td pre{
  font-size: 12px;
  color: #039BE5;
  background-color: transparent; !important;
}

.markdown-body th, td pre{
  border: 0;
  background-color: transparent; !important;
}

.markdown-body blockquote {
   border-left: 4px solid #f48684 !important;

}</style><title>readme-new-client</title></head><body><article class="markdown-body"><h1 id="taildmp-sdk-android">TAILDMP SDK ANDROID</h1>
<blockquote>
<p>The TailDMP SDK is a mobile data library used to send and collect data from mobile devices, which will be used by TailTarget. The library provides an automatization mechanism for collecting and sending data, it’s just necessary define the periodicity between the sending requests.  </p>
</blockquote>
<h2 id="required-settings">Required Settings</h2>
<h4 id="file-for-settings">File for Settings</h4>
<p>Create a file called TailDMPConfig.json, it must to be saved on the assets folder of the  project and needs to contain the accountId. </p>
<p>Ex.</p>
<pre><code>{
  &quot;accountId&quot;: &quot;TT-0000-0&quot;
}
</code></pre><h4 id="androidmanifest-permissions">AndroidManifest Permissions</h4>
<p>Add the following permissions to the  <em>AndroidManifest.xml</em></p>
<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;
&lt;uses-permission android:name=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot; /&gt;
</code></pre><p>Add services below within the tag application</p>
<pre><code>&lt;service android:name=&quot;digital.tail.sdk.tail_mobile_sdk.TailDMPSendDataJobService&quot;  android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; android:label=&quot;Tail DMP Send Data Service&quot;/&gt;
&lt;service android:name=&quot;digital.tail.sdk.tail_mobile_sdk.TailDMPCollectDataJobService&quot;  android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; android:label=&quot;Tail DMP Collect Data Service&quot;/&gt;
&lt;service android:name=&quot;digital.tail.sdk.tail_mobile_sdk.TailDMPSendALLDataJobService&quot;  android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; android:label=&quot;Tail DMP Send All Data Service&quot;/&gt;
&lt;service android:name=&quot;digital.tail.sdk.tail_mobile_sdk.TailDMPActivityTrackerIntentService&quot; android:exported=&quot;false&quot; android:label=&quot;Tail DMP Activity Service&quot; /&gt;
</code></pre><p>The file <em>AndroidManifest.xml</em> will look like this:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;tail.digital.app&quot; &gt;
    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;
    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot; /&gt;
    &lt;application
        android:allowBackup=&quot;true&quot;
        android:icon=&quot;@mipmap/ic_launcher&quot;
        android:label=&quot;@string/app_name&quot;
        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;
        android:supportsRtl=&quot;true&quot;
        android:theme=&quot;@style/AppTheme&quot; &gt;
        &lt;activity android:name=&quot;.MainActivity&quot; &gt;
            &lt;intent-filter&gt;
                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;
                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
           &lt;service android:name=&quot;digital.tail.sdk.tail_mobile_sdk.TailDMPSendDataJobService&quot;  android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; android:label=&quot;Tail DMP Send Data Service&quot;/&gt;
        &lt;service android:name=&quot;digital.tail.sdk.tail_mobile_sdk.TailDMPCollectDataJobService&quot;  android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; android:label=&quot;Tail DMP Collect Data Service&quot;/&gt;
        &lt;service android:name=&quot;digital.tail.sdk.tail_mobile_sdk.TailDMPSendALLDataJobService&quot;  android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; android:label=&quot;Tail DMP Send All Data Service&quot;/&gt;
        &lt;service android:name=&quot;digital.tail.sdk.tail_mobile_sdk.TailDMPActivityTrackerIntentService&quot; android:exported=&quot;false&quot; android:label=&quot;Tail DMP Activity Service&quot; /&gt;
    &lt;/application&gt;
&lt;/manifest&gt;
</code></pre><h4 id="add-sdk-library-in-your-project">Add SDK Library in your project</h4>
<p>The SDK library is distributed by mavencentral.</p>
<p>Our SDK Library already incorporates the following library: </p>
<ul>
<li>com.google.code.gson:gson:2.8.0</li>
</ul>
<p>If you already use it in your project, remove it from your gradle.build file to avoid possible compilation conflicts.</p>
<h4 id="graddle-configurations">Graddle Configurations</h4>
<p>For proper operation of the SDK, it is necessary to modify the project’s &quot;build.gradle&quot; file to compiles the Goolge play service and SDK libraries.</p>
<p>The Android minimum version required for the SDK&#39;s operation is <strong>4.0 (api 14)</strong>, 
the automatization mechanism for collecting and sending data is available only for Android <strong>5.0 (api 20)</strong> and up.</p>
<p>Ex.</p>
<pre>
defaultConfig {
    applicationId "tail.digital.app"
    minSdkVersion <b>14</b>
    targetSdkVersion <b>25</b>
    versionCode 1
    versionName "1.0"
}
</pre>


<p>For the correct operation of the SDK, we use google play service libraries. They must be compiled within the app. </p>
<p>You must add these libs to your gradle dependencies: </p>
<ul>
<li>play-services-identity:16.0.0</li>
<li>play-services-location:16.0.0</li>
<li>play-services-ads: 16.0.0</li>
<li>play-services-nearby:16.0.0</li>
</ul>
<p>Below is an example of how the dependency configuration of the <em>gradle.build</em> file should be:</p>
<p>Ex.</p>
<pre>
dependencies {

    compile fileTree(dir: 'libs', include: ['*.jar'])

    //import google play libs
    <b>compile 'com.google.android.gms:play-services-identity:16.0.0'</b>
    <b>compile 'com.google.android.gms:play-services-location:16.0.0'</b>
    <b>compile 'com.google.android.gms:play-services-ads:16.0.0'</b>
    <b>compile 'com.google.android.gms:play-services-nearby:16.0.0'</b>
    //get sdk from maven central
    //change 1.2.+ to the latest version available
    <b>compile 'digital.tail.sdk.tail_mobile_sdk:tail-mobile-sdk:1.2.+'</b>


}
</pre>




<h4 id="bellow-there-is-an-example-of-how-gradle-build-file-should-be-">Bellow there is an example of how gradle.build file should be:</h4>
<p>Ex.</p>
<pre>
apply plugin: 'com.android.application'
android {
    compileSdkVersion 25
    buildToolsVersion "25.0.2"
    defaultConfig {
        applicationId "tail.digital.app"
        minSdkVersion <b>14</b>
        targetSdkVersion <b>25</b>
        versionCode 1
        versionName "1.0"

    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

dependencies {
       //import google play libs
    <b>
    compile 'com.google.android.gms:play-services-identity:16.0.0'
    compile 'com.google.android.gms:play-services-location:16.0.0'
    compile 'com.google.android.gms:play-services-ads:16.0.0'
    compile 'com.google.android.gms:play-services-nearby:16.0.0'
    compile 'com.android.support:appcompat-v7:25.3.1'
    compile 'com.android.support.constraint:constraint-layout:1.0.2'
    </b>
    //add and extract the sdk from mavencentral
    //change 1.2.+ to the latest version available
    <b>compile 'digital.tail.sdk.tail_mobile_sdk:tail-mobile-sdk:1.2.+'</b>


}
</pre>

<h2 id="updating-security-providers-of-google-play-services-in-android-4-x">Updating Security Providers of Google Play Services in Android 4.x</h2>
<p>Older devices with Android version 4.x installed, may be using obsolete and insecure libraries to provide secure network comunication. In these cases, we suggest that your app ask users to update Google Play Services Providers to its latest version.</p>
<p>Android&#39;s Google Developers Guide, describes how to do this operation here:
<a href="https://developer.android.com/training/articles/security-gms-provider.html">https://developer.android.com/training/articles/security-gms-provider.html</a>  </p>
<p><strong>Warning: For security reasons, we&#39;ll collect and send data only if user&#39;s device security provider is up to dated</strong>. </p>
<h2 id="using-the-sdk-in-a-project">Using the SDK in a project</h2>
<p>The SDK has a central feature access point named <em>TailDMP</em>. 
This object is a singleton and should be started only once, after passing the context of the application.</p>
<h4 id="setup-and-starting-the-sdk">Setup and starting the SDK</h4>
<p>We must define some settings before start the SDK&#39;s automatic services of send and collect data.
After executing the required configurations, the SDK library must be started.</p>
<p>ex.</p>
<pre>    
//Reference to a textfield on user interface
public TextView user_txtV;    

//Initialize the SDK
TailDMP.initialize(getApplicationContext());


//Generate an userhash ID using an email provided by a text field 
TailDMP.getInstance().generateUserHashFromEmail(user_txtV.getText().toString());

// Set user as optin <b>(required)</b>
TailDMP.getInstance().setOptin(true);

//interval, in minutes, to collect data from deivce 
int intervalToCollectData = 15;

//interval, in minutes, to send data to server 
int intervalToSendData = 120;

//Set interval that will fires up the collectDataJob and the sendDataJob <b>(required)</b>
TailDMP.getInstance().setIntervalToExecuteJob(intervalToCollectData,intervalToSendData);
</pre>


<p>After setting up we can start the automatic service of collect and send data using the SDK&#39;s method <em>startJob()</em>.<br>We use Android native runtime scheduling services (JobScheduler) to collect and send data.  These services <strong>runs in foreground and background  states of app</strong>.</p>
<pre><code>//Start the job
TailDMP.getInstance().startJob();
</code></pre><p>You can initialize the job where you think is most adequate, in a click, in app&#39;s creation cycle, after app&#39;s initializing stage, etc.</p>
<p>Below an complete example of the setup of SDK and starting the job action of send and collect data.</p>
<p>Ex.</p>
<pre>
package tail.digital.app;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.View;
import digital.tail.sdk.tail_mobile_sdk.TailDMP;
import digital.tail.sdk.tail_mobile_sdk.exception.TailDMPException;
public class MainActivity extends AppCompatActivity {

    //Reference to a textfield on user interface
    public TextView user_txtV;    

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        initApp();
    }
    private void initApp() {
        try {
            //Initialize the SDK
            TailDMP.initialize(getApplicationContext());

            //Generate an userhash ID using an email provided by a text field 
            TailDMP.getInstance().generateUserHashFromEmail(user_txtV.getText().toString());

            // Set user as optin <b>(required)</b>
            TailDMP.getInstance().setOptin(true);

            //interval, in minutes, to collect data from deivce 
            int intervalToCollectData = 15;

            //interval, in minutes, to send data to server 
            int intervalToSendData = 120;

            //Set interval that will fires up the collectDataJob and the sendDataJob <b>(required)</b>
            TailDMP.getInstance().setIntervalToExecuteJob(intervalToCollectData,intervalToSendData);
        } catch (TailDMPException e) {                              
            e.printStackTrace();
        }

    }

    //clicks on a button to start the process
    public void startIt(View view){
        //Generate an userhash ID using an email provided by a text field 
            TailDMP.getInstance().generateUserHashFromEmail(user_txtV.getText().toString());

            //get the instance of TailDMP SDK and start automatic job  or send data 
             if (android.os.Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {

                //For Android 5.0 and greater  use this   
                TailDMP.getInstance().startJob();

            }else{

                //For Android 4.x use this
                TailDMP.getInstance().sendData("");

            }
    }
}
</pre>

<p>Sometimes you need to stop the automatic job services to check or test some parts of apps workflow, you can do it using the method <em>stopJob()</em>.</p>
<p>You don&#39;t need to create triggers on your app&#39;s logic to stop the job service.</p>
<p>When you start the job services the SDK automatically handles its lifecycle, including start/stop/restart all services according with the period defined by <strong>setIntervalToExecuteJob(intervalToCollectData,intervalToSendData)</strong>.</p>
<p><strong>If you stop the service, for any reason, remember to restart it or we will never collect the data again.</strong></p>
<p>Ex.</p>
<pre><code>//Stop The job
TailDMP.getInstance().stopJob();
</code></pre><h4 id="request-permission-to-capture-geolocation-data">Request permission to capture geolocation data</h4>
<p>To recover the device’s geolocation it is necessary to request the user’s permission. 
We can use the Helper provided by Android - ActivityCompat.requestPermissions to implement this workflow.
We recommends that this action should be executed before the start of SDK, on initializing of your app for example.</p>
<p>Ex.</p>
<pre>
package tail.digital.app;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.View;

import digital.tail.sdk.tail_mobile_sdk.TailDMP;
import digital.tail.sdk.tail_mobile_sdk.exception.TailDMPException;

public class MainActivity extends AppCompatActivity {

    //Reference to a textfield on user interface
    public TextView user_txtV;    

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        initApp();

        <b>//ask user to grant permissions
        askPermission()</b>
    }

    private void initApp() {

        try {

            //Initialize the SDK
            TailDMP.initialize(getApplicationContext());

            //Generate an userhash ID using an email provided by a text field 
            TailDMP.getInstance().generateUserHashFromEmail(user_txtV.getText().toString());

            // Set user as optin (required)
            TailDMP.getInstance().setOptin(true);

            //interval, in minutes, to collect data from deivce 
            int intervalToCollectData = 15;

            //interval, in minutes, to send data to server 
            int intervalToSendData = 120;

            //Set interval that will fires up the collectDataJob and the sendDataJob (required)
            TailDMP.getInstance().setIntervalToExecuteJob(intervalToCollectData,intervalToSendData);

        } catch (TailDMPException e) {                              
            e.printStackTrace();
        }

    }

    <b>private void askPermission(){

        //check if the user allow us to use some private resources of this device
        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED ||
                ContextCompat.checkSelfPermission(this,Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED)
        {
            //We can add more than one  per requirement
            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission.RECEIVE_BOOT_COMPLETED},123);
        }        

    }</b>

    //clicks in a button to start the process
    public void startIt(View view){
        try {
          //get the instance of TailDMP SDK and start automatic job  or send data 
             if (android.os.Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {

                //For Android 5.0 and greater  use this   
                TailDMP.getInstance().startJob();

            }else{

                //For Android 4.x use this
                TailDMP.getInstance().sendData("");

            }
        }catch (TailDMPException e) {
            e.printStackTrace();
        }
    }
}
</pre>        

<p>Reference: <a href="https://developer.android.com/training/permissions/requesting.html?hl=pt-br">https://developer.android.com/training/permissions/requesting.html?hl=pt-br</a></p>
<h4 id="sending-data-without-automatic-scheduling">Sending Data Without Automatic Scheduling</h4>
<p>We can use the SDK to collect and send data of devices without the scheduling mechanism. </p>
<p><strong>We suggest the use of this method for all devices with Android 4 version installed</strong>. </p>
<p>If your user&#39;s device has Android 4 installed don&#39;t forget to ask him to update The Security Provider see <a href="#updating-security-providers-of-google-play-services-in-android-4-x">Updating Security Providers of Google Play Services in Android 4.x</a>  </p>
<p>To execute this action we’ll use the method  <strong>sendData(String tag)</strong> at SDK. </p>
<p>Note that is necessary to send a <strong>tag</strong> as parameter to this method. 
The <strong>tag</strong> must be a String and can not exceed 32 characters, it can be a empty string, can have letters, numbers or the following special characters: <strong>-  _  .  =</strong> </p>
<p>Below an example of its use.</p>
<p>Ex.</p>
<pre><code>public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        initApp();
    }

    private void initApp() {

        try {

            //initializing TailDMP
            //Starts the SDK
            TailDMP.initialize(getApplicationContext());

            //Generate an userhash ID using an email provided by a text field 
            TailDMP.getInstance().generateUserHashFromEmail(user_txtV.getText().toString());

            // Set user as optin (required)
            TailDMP.getInstance().setOptin(true);

            //Send data to webservice without a scheduled job Service, passing an enpty string as tag.
            TailDMP.getInstance().sendData(&quot;&quot;);


        } catch (TailDMPException e) {
            e.printStackTrace();
        }
    }

}
</code></pre><h4 id="checking-data-sent-to-tailtarget-using-sandbox-mode">Checking data sent to Tailtarget using sandbox mode</h4>
<p>To check all data that is being sent to Tailtarget, you must enable the &quot;Sandbox mode&quot; of SDK.<br>This mode is disabled by default.</p>
<p>When enabled, all data sent by app are directed to a service that decrypt and display it on SDK SandBox area of Tailtarget&#39;s Dashboard. 
These data will not be processed because Sandbox mode proposal is to provide a interface to check if the SDK is sending data successfully and the configs are correct. </p>
<p>The Sandbox area of Tailtarget&#39;s Dashboard can be acessed by Settings &gt; Advanced Settings &gt; SDK SandBox menu or directly by URL: <a href="https://dashboard.tailtarget.com/dmp/#/sandbox">https://dashboard.tailtarget.com/dmp/#/sandbox</a></p>
<p><strong>Warning! Before you publish your app, you must disable Sandbox mode or all data generated by your app will not be processed by TailTarget.</strong> </p>
<p>Below an example of how to enable Sandbox mode:</p>
<pre>
    //initialize SDK
    TailDMP.initialize(getApplicationContext());
    //set user as optin
    TailDMP.getInstance().setOptin(true);

    //enable SANDBOX MODE
    // Don't forget to disable this mode before You publish the app
    <strong>TailDMP.getInstance().enableSandbox(true);
    </strong>
</pre>    


<p>And how to disabled Sandbox mode:</p>
<pre>
    //disable SANDBOX MODE
    <strong>TailDMP.getInstance().enableSandbox(false)</strong>
</pre>




<h4 id="adding-tags-to-automatic-process-of-collect-and-send-data-">Adding Tags to automatic process of collect and send data.</h4>
<p>Tags are extra information which can to be sent to a webservice. 
This information must be a String and can not exceed 32 characters, can not be an empty string, can have letters, numbers or the following special characters: <strong>-  _  .  =</strong> </p>
<p>When a tag is added to SDK, a new register of data will be collected and sent to us.</p>
<p>Ex.</p>
<pre><code>//We must get the instance initialized
try{
    tDMP = TailDMP.getInstance();
}catch (TailDMPException e) {
    e.printStackTrace();
}

String mytag = &quot;onlineChannel&quot;;

if(tDMP != null)
tDMP.addTags(mytag);
</code></pre><h2 id="beacons">BEACONS</h2>
<h4 id="configure-beacons-to-be-detected-by-taildmp-sdk">Configure Beacons to be detected by TailDMP SDK</h4>
<p>Our library can be used to detect your beacons <strong>(For Android api &gt;=21 only)</strong>.</p>
<p>The SDK supports <a href="https://developers.google.com/beacons/eddystone" target="_blank"><b>Eddystone-UID</b></a> 
protocol that broadcasts an unique message identifier for each beacon.</p>
<p>The identifier is splitted into two parts, <em>Namespace</em> (10 bytes) e  <em>Instance</em> (6 bytes).</p>
<p>The Namespace is used to filter your beacons from other people&#39;s beacons and Instance to identify and differentiate between each one of yours beacons.</p>
<p>To be detected by our SDK , your beacon message <strong>Namespace</strong> must be setted to <strong>CFB3DBE6A3E1B065C4BB</strong>, we only track beacons with this Namespace.</p>
<p>The <strong>Instance</strong> value can be represented as a 12 characters long string. ex: 112233445566, 112233445567.</p>
<p>We use Google&#39;s &quot;Nearby&quot; library to control the process of beacon&#39;s scanning. For a proper operation, the geolocation service must be enabled by user.</p>
<p>These scans are triggered by screen ON/OFF events. </p>
<p>To detect Beacons the bluetooth of device must be activated , we recommend that you create strategies that encourages your user to keep the bluetooth on. </p>
<h2 id="configure-sdk-to-detect-beacons">Configure SDK to detect beacons</h2>
<h3 id="required-settings">Required Settings</h3>
<h4 id="androidmanifest-permission">AndroidManifest Permission</h4>
<p>Add the following permissions to the AndroidManifest.xml</p>
<pre><code> &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;

&lt;uses-permission android:name=&#39;android.permission.BLUETOOTH&#39;/&gt;
&lt;uses-permission android:name=&#39;android.permission.BLUETOOTH_ADMIN&#39;/&gt;
&lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot; android:required=&quot;true&quot;/&gt;

&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;

&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;
&lt;uses-permission android:name=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;
</code></pre><p>Add services below within the tag application</p>
<pre><code>&lt;service android:name=&quot;digital.tail.sdk.tail_mobile_sdk.TailDMPSendDataJobService&quot;  android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; android:label=&quot;Tail DMP Send Data Service&quot;/&gt;
&lt;service android:name=&quot;digital.tail.sdk.tail_mobile_sdk.TailDMPCollectDataJobService&quot;  android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; android:label=&quot;Tail DMP Collect Data Service&quot;/&gt;
&lt;service android:name=&quot;digital.tail.sdk.tail_mobile_sdk.TailDMPSendALLDataJobService&quot;  android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; android:label=&quot;Tail DMP Send All Data Service&quot;/&gt;
&lt;service android:name=&quot;digital.tail.sdk.tail_mobile_sdk.CheckNearByJobService&quot;  android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; android:label=&quot;Check beacon activity&quot;/&gt;
&lt;service android:name=&quot;digital.tail.sdk.tail_mobile_sdk.TailDMPActivityTrackerIntentService&quot; android:exported=&quot;false&quot; android:label=&quot;Tail DMP Activity Service&quot; /&gt;
</code></pre><h4 id="graddle-configurations">Graddle Configurations</h4>
<p>For proper operation of the SDK, we use google play service libraries. They must be compiled within the app.</p>
<p>We must add to our gradle dependencies the following libraries: com.google.android.gms:play-services-nearby and play-services-location. </p>
<p>Below an example of how the dependency configuration of the gradle.build file should be:</p>
<pre>

apply plugin: 'com.android.application'
android {
    compileSdkVersion 25
    buildToolsVersion "25.0.2"
    defaultConfig {
        applicationId "tail.digital.app"
        minSdkVersion 21
        targetSdkVersion 25
        versionCode 1
        versionName "1.0"

    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])

    //import google play libs
    <b>compile 'com.google.android.gms:play-services-identity:16.0.0'
    compile 'com.google.android.gms:play-services-location:16.0.0'
    compile 'com.google.android.gms:play-services-nearby:16.0.0'
    compile 'com.google.android.gms:play-services-ads:16.0.0'
    </b>

    compile 'com.android.support:appcompat-v7:25.3.1'
    compile 'com.android.support.constraint:constraint-layout:1.0.2'
    //add and extract the sdk from mavencentral
    //change 1.2.+ to the latest version available
    <b>compile 'digital.tail.sdk.tail_mobile_sdk:tail-mobile-sdk:1.2.+'</b>
}

</pre>





<h4 id="enable-beacons-detection-in-your-app">Enable beacons detection in your App</h4>
<p>Beacon&#39;s detection is enabled automatically using the method of SDK, <strong>TailDMP.getInstance().startJob()</strong>. </p>
<p>You can start the detection manually using the SDK&#39;s method <strong>TailDMP.getInstance().enableBeaconScan()</strong>. 
To stop the detection use the SDK&#39;s method <strong>TailDMP.getInstance().disableBeaconScan()</strong>.</p>
<p>Beacon&#39;s detection and scan will be initialized only if user is opt in, gives  <a href="#permission">permission</a> to access  device&#39;s geolocation and the bluetooth of its device is activated.</p>
<p>All beacon&#39;s information are saved inside app and are sent to Tail using SDK&#39;s service that sends and collects data automaticcally, so you <strong>must use the SDK on automatic mode</strong>.</p>
<p>Beacon&#39;s detection and scan are executed when your App is in foreground and background state, this process runs in a separated thread in background, it doesn&#39;t blocks the UI thread and uses only <strong>Bluetooth Low Energy (BLE)</strong> to save device&#39;s battery.</p>
<p>Below an example of enabling beacons detection, the workflow to ask permission to use geolocation data and enabling automatic scheduling mechanism to send and collect data:</p>
<pre>
package digital.tail.apptrackbeacons;

import android.Manifest;
import android.content.pm.PackageManager;
import android.graphics.Color;
import android.support.annotation.NonNull;
import android.support.design.widget.Snackbar;
import android.support.v4.app.ActivityCompat;
import android.support.v4.content.ContextCompat;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;

import com.google.android.gms.common.api.GoogleApiClient;
import com.google.android.gms.nearby.messages.MessageListener;

import digital.tail.sdk.tail_mobile_sdk.TailDMP;
import digital.tail.sdk.tail_mobile_sdk.TailDMPValues;
import digital.tail.sdk.tail_mobile_sdk.exception.TailDMPException;


//We need to handle PermissionsResultCallback so we implement its methods in this activity
public class MainActivity extends AppCompatActivity implements ActivityCompat.OnRequestPermissionsResultCallback{

    private int PERMISSION_REQUEST_ID = 123;

    TextView txt_email;

    Button btEnablebeacon;
    Button btDisablebeacon;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        //get email textfield
        txt_email = (TextView)findViewById(R.id.txt_email);


        //get beacons bts
        btEnablebeacon = (Button) findViewById(R.id.btEnablebeacon);
        btDisablebeacon = (Button) findViewById(R.id.btDisablebeacon);

        //setcolors
        btEnablebeacon.setBackgroundColor(Color.parseColor("#4caf50"));
        btEnablebeacon.setTextColor(Color.parseColor("#FFFFFF"));

        btDisablebeacon.setBackgroundColor(Color.parseColor("#f44336"));
        btDisablebeacon.setTextColor(Color.parseColor("#FFFFFF"));


        //initialize TailDMP SDK
        initApp();
    }



    /****************************
     *
     * Initializing Tal DMP SDK
     *
     ***************************/
    private void initApp(){

        //initializing TailDMP

        try {
            TailDMP.initialize(getApplicationContext());
            //set user as optin
            TailDMP.getInstance().setOptin(true);


        } catch (TailDMPException e) {
            e.printStackTrace();
        }


    }


    /****************************
     *
     * Initializing Beacons tracking
     *
     ***************************/
    public void initBeacons(View view){

        //just initialize if we have location permission granted
        if (ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION)
                == PackageManager.PERMISSION_GRANTED) {
            //init beacons tracking
            try {

                //generate user hash
                TailDMP.getInstance().generateUserHashFromEmail(txt_email.getText().toString());
                <b>
                //enable beacon tracking manually
                TailDMP.getInstance().enableBeaconScan(this);
                </b>

                /****************************************************************************
                 *
                 * Don't forget to start the service to automatically collect and send data
                 * or it will never be sent to be processed by us.
                 *
                *****************************************************************************/
                //collect and send data
                startSendDataService();

            } catch (TailDMPException e) {
                e.printStackTrace();
            }
        }else{
            //ask permission

            View v = findViewById(android.R.id.content);
            checkPermission(v);
        }
    }


    /****************************
     *
     * Stops Beacons tracking
     *
     ***************************/
    public void disableBeacons(View v){

        try {
            //stops tracking beacons
            TailDMP.getInstance().disableBeaconScan();




        } catch (TailDMPException e) {
            e.printStackTrace();
        }


    }

    /****************************
     *
     * Stars automatic service that collect and send data
     *
     ***************************/
    private void startSendDataService(){
        try {
            //every 15 minutes try to collect data
            //every 480(8 hours) minutes try to send data to server
            <b>TailDMP.getInstance().setIntervalToExecuteJob(15,480);</b>
            //initialize beacon tracking automatically
            <b>TailDMP.getInstance().startJob();</b>

        } catch (TailDMPException e) {
            e.printStackTrace();
        }
    }


    /****************************
     *
     * Stops automatic service that collect and send data
     *
     ***************************/
    private void stopSendDataService(){
        try {

            TailDMP.getInstance().stopJob();

        } catch (TailDMPException e) {
            e.printStackTrace();
        }
    }



    // =============================
    // ==>> ASK PERMISSION TO USER
    // =============================
    //https://developer.android.com/training/permissions/requesting.html



    /****************************
     *
     * Ask permission dialog for user interaction
     *
     ***************************/
    public void checkPermission(View view){
        //check if the user allow us to use some private resources of this device
        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED ||
                ContextCompat.checkSelfPermission(this,Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED
                ){
            //Can add more as per requirement
            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION},PERMISSION_REQUEST_ID);
        }
    }


    /****************************
     *
     * Handler of Dialog's action
     *
     ***************************/
    @Override
    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {

        if (requestCode == PERMISSION_REQUEST_ID) {

            int PERMISSION_GRANTED = -1;

            //loop through all permissions requested
            for(int i = 0; i<permissions.length; i++){

                //found ACCESS_COARSE_LOCATION
                if(permissions[i].equals("android.permission.ACCESS_COARSE_LOCATION")){
                    PERMISSION_GRANTED = grantResults[i];
                    break;
                }

            }

            // Check if the required permission has been granted
            if (PERMISSION_GRANTED == PackageManager.PERMISSION_GRANTED) {
                <b>// access to locations device granted
                //start beacon tracking
                initBeacons(null);
                </b>
            } else {

                Snackbar.make(this.findViewById(android.R.id.content), "You must grant permission to access device location if you want to use this feature!",
                        Snackbar.LENGTH_LONG).show();

            }

        }else{
            super.onRequestPermissionsResult(requestCode, permissions, grantResults);
        }


    }
}


</pre>


<h2 id="events">Events</h2>
<h3 id="save-events">Save Events</h3>
<p>Events are key / value data that can be saved when an in-app action occurs. ex: User clicked to buy a product, User cancel a purchase, etc.</p>
<p>Users must be opt in to its data be saved. The maximum number of saved events is <strong>400</strong>. </p>
<p>After reaching the maximum value of events start to  delete the oldest record to insert a new one. </p>
<p><strong>Its up to the developer to trigger the operation of sending saved event data.</strong></p>
<p>To save events call the method <strong>addEvent(eventKey,eventValue)</strong>.</p>
<p>The value of <strong>eventKey</strong> must be a String up to 32 characters, cannot be null, cannot be empty and can contain _=.-</p>
<p>The value of <strong>eventValue</strong> must be a String up to 100 characters, cannot be null, cannot be empty and can contain _=.-</p>
<p>Ex:</p>
<pre>


    //user clicks and we add an event to be saved
    public void clickAddEvent (View view) {
        //adding event
        try{
           <b> TailDMP.getInstance().addEvent("_viewProduct", "sku_1");</b>
        }catch(Exception e){
            Log.e("ERROR", "Exception");
        }
    }
</pre>


<h3 id="upload-events">Upload Events</h3>
<p>The operation of uploading events to TailTarget is initiated by calling the method  <strong>sendEvents</strong>.</p>
<p>This method returns true if the operation has successfully started or false if a failure has occurred.</p>
<p>You can only perform one upload operation at a time, 
if a sequence of calls is needed you must implement a callback
to handle responses of one call and initiate the next one. </p>
<p>During the operation of uploading events, requests are executed to our servers transmitting all data saved.</p>
<p>If all requests are successfully completed the value true is returned to callback, else the value false is returned.</p>
<p>If a callback has not been defined, nothing is returned. </p>
<p>The data sent is deleted from the app with each successful submission request. </p>
<p>If any request was not completed, the data that was being sent by it will be kept in the app.</p>
<p>In this case, an action of developer is required to schedule a new upload attempt</p>
<h4 id="uploading-events-with-callback">Uploading Events with callback</h4>
<p>Uploading events data is an asynchronous operation, we receive a response of it after this operation has completed.</p>
<p>To listen to this response we must a callback method that is executed after this operation is completed.</p>
<p>Tail SDK already has an implementation for this purpose.<br>The developer must implements in your Activity the method 
<strong>sendEventsResults(boolean data)</strong> of SDK&#39;s interface 
<strong>ITSendEvents</strong> .</p>
<p>The SDK will use this interface as callback and will return <strong>true</strong> if the request was successfully completed or <strong>false</strong> to any failure. </p>
<p>Ex:</p>
<pre>
public class MainActivity extends AppCompatActivity <b>implements ITSendEvents</b> {

    //user clicks to send events
    public void clickSendAllEvents(View view){
        try{

           /* 
            Sending all saved events to tailtarget server.
            We had implemented on this Activity the method sendEventsResults() from ITSendEvents 
            and then passed "this" as callback on sendEvents(this).
            */
            boolean sendEventsOperation = <b>TailDMP.getInstance().sendEvents(this)</b>;

            if(sendEventsOperation){
                Log.i("OK", "Operation Initialized!");
            }else{
                Log.e("ERROR", "Operation NOT Initialized!");
                // do some task to handle this.
            }
        }catch (Exception e){
            Log.e("ERROR", "Exception");
        }
    }


    //user clicks and we add an event to be saved
    public void clickAddEvent (View view) {

        try{

            TailDMP.getInstance().addEvent("_viewProduct", "sku_1");
        }catch(Exception e){
            Log.e("ERROR", "Exception");
        }

    }

    //callback method
    @Override
    public void sendEventsResults(boolean b) {
        Log.i("TAIL-TAG", "Response from sendEvents"+b);
    }
}
</pre>

<h4 id="upload-events-without-callback">Upload Events without callback</h4>
<p>The use of the callback is not mandatory, if you don&#39;t need it, pass null to the sendEvents method ex: sendEvents (null)</p>
<p>Exemplo:</p>
<pre>

    public void clickSendAllEvents(View view){
        try{

           /* 
            Sending all saved events to tailtarget server without callback.
            */
            boolean sendEventsOperation = <b>TailDMP.getInstance().sendEvents(null);</b>

            if(sendEventsOperation){
                Log.i("OK", "Operation Initialized!");
            }else{
                Log.e("ERROR", "Operation NOT Initialized!");
                // do some task to handle this.
            }
        }catch (Exception e){
            Log.e("ERROR", "Exception");
        }
    }
</pre> 





<h2 id="class-summary">Class Summary</h2>
<h3 id="taildmp">TailDMP</h3>
<blockquote>
<p>Central access object of the SDK features. 
This object is a singleton and should be initialized only once, after the application context.</p>
</blockquote>
<table >
 <thead>
  <tr>
   <th colspan="2">Constructor</th>
  </tr>
 </thead>

 <tbody>
  <tr>
   <td>
    <pre>initialize(Context context)</pre>
  </td>
  <td>
   <p>Starting method of Singleton TailDMP, must to be done only once. 
Mandatory.
</p>
  </td>
 </tr>
 </tbody>
</table>

<table><br> <thead>
  <tr>
  <th colspan="2">Public Methods</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td ><pre>enableSandbox(boolean enable) </pre></td>
   <td>
    <p>Enabel/Disable the Sandbox mode. </p>
    <p>The sandbox mode is disabled by default.</p>
    <p>
        When enabled, all data is sent to a service that decrypt and display it on Sandbox area of Dashboard.<br>    </p>
    <p>
        The sandbox mode is used to check if your app config is correct and the data is been sent to TailTarget services.
    </p>
   </td>
  </tr>


  <tr>
   <td ><pre>getInstance() </pre></td>
   <td>
    <p>Retrieves the initialized TailDMP instance</p>
   </td>
  </tr><br>  <tr>
   <td ><pre>generateUserHashFromEmail(String useremail) </pre></td>
   <td>
    <p>Generate a hashuser by its email. Must be a lowercase String and a valid email address.</p>
   </td>
  </tr>

  <tr>
     <td ><pre>generateUserHashFromCPF(String CPF) </pre></td>
     <td>
      <p>Generates a hash user by its CPF, Must contents only 11 digits of this document.</p>
      <p>Ex. 111.111.111-11 =&gt; 11111111111</p>
      <p>Reference: <a href="https://dashboard.tailtarget.com/dmp/#/docs/a10">https://dashboard.tailtarget.com/dmp/#/docs/a10</a></p>
     </td>
    </tr>

  <tr>
       <td ><pre>generateUserHashFromPhone(String phonenumber) </pre></td>
       <td>
        <p>Generates a hash user by its phonenumber, phone field, should use only the numbers of its full international form. Note that should be no international carrier codes in the phone&#39;s shape.</p>
        <p>Ex. 11982235000 =&gt; 5511982235000
8587719999 =&gt; 558587719999</p>
       <p>Reference: <a href="https://dashboard.tailtarget.com/dmp/#/docs/a10">https://dashboard.tailtarget.com/dmp/#/docs/a10</a></p>
       </td>
      </tr>
  <tr>
   <td ><pre>addEvent(String eventKey, String eventValue) </pre></td>
   <td>
    <p>Saves key / value data on app.</p>
    <p><b>eventKey</b> - must be a String up to 32 characters, cannot be null, cannot be empty and can contain <em>=.-</p>
<p><b>eventValue</b> must be a String up to 100 characters, cannot be null, cannot be empty and can contain </em>=.-</p>
   </td>
  </tr><br>  <tr>
   <td ><pre>addTags(Strig tag) </pre></td>
   <td>
    <p>Adds extra information to be sent to server</p>
    <p><b>tag</b> - must be a String and can not exceed 32 characters, <b>can not</b> be an empty string, can have letters, numbers or the following special characters: <strong>-  _  .  =</strong> </p>
   </td>
  </tr><br>  <tr>
   <td ><pre>sendData(String tag) </pre></td>
   <td>
    <p>Sends device data without automatic JobService </p>
    <p><b>tag</b> - String and can not exceed 32 characters, <b>can</b> be an empty string, can have letters, numbers or the following special characters: <strong>-  _  .  =</strong> </p>
   </td>
  </tr>
  <tr>
   <td ><pre>sendEvents(ITSendEvents listener) </pre></td>
   <td>
    <p>Operation that upload events data</p>
    <p>Returns true if the operation has successfully started or false if a failure has occurred.</p>
    <p><b>listener</b> Object with the implementation of callback of interface ITSendEvents. It will return true if the request was successfully completed or false to any failure.</p><p>The use of the callback is not mandatory, if you don&#39;t need it, pass null to the sendEvents method ex: sendEvents (null)</p>
   </td>
  </tr>
  <tr>
   <td ><pre>setIntervalToExecuteJob(int minutesToCollect, int minutesToSend) </pre></td>
   <td>
   <p><b>(Required)</b> Adds a time interval between the Service’s 
execution which collects and sends data to the server
</p>
    <p><b>minutesToCollect</b> - Adds a time interval, in minutes, to collect device data. The minimum period between collect service must 15 minutes</p>
    <p><b>minutesToSend</b> - Adds a time interval, in minutes, to send device data to our server . The minimum period between send data service must be bigger than <b>minutesToCollect</b>  and its maximum value up to 24hs(1440 minutes) </p>
   </td>
  </tr>
  <tr>
   <td ><pre>startJob() </pre></td>
   <td>
    <p>Starts the service of periodic scheduling of collect and sending 
data, respecting time interval settled 
by  setIntervalToExecuteJob(int minutesToCollect, int minutesToSend)</p>
   </td>
  </tr>
  <tr>
   <td ><pre>stopJob() </pre></td>
   <td>
    <p><b>(Optional)</b> Stops the execution of automated service that collects and sends data to our server. </p>
   </td>
  </tr>

  <tr>
     <td ><pre>setOptin(boolean) </pre></td>
     <td>
      <p><b>(Required)</b> true | false - Allows (or not) the sdk to collect and send data, default is always true.</p>
     </td>
    </tr><br>
  <tr>
   <td ><pre>setSendDataOnWifiOnly(boolean) </pre></td>
       <td>
        <p><b>(Optional)</b> true | false - Signals to the SDK that the sending of data will only be done if the device have data connection through Wifi network , default is false.</p>
       </td>
      </tr>
<tr>
   <td ><pre>enableBeaconScan(Activity act) </pre></td>
   <td>
    <p>
        Enable Beacons tracking and detection.
    </p>
   </td>
  </tr>
<tr>
   <td ><pre>disableBeaconScan() </pre></td>
   <td>
    <p>
        Disable Beacons tracking and detection.
    </p>
   </td>
  </tr><br>
 </tbody>
</table>

















</article></body></html>